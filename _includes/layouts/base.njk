{% macro navlink(link, title, class) %}
  <a
    href="{{ link | url }}"
    class="
      tracking-wide text-sm
      hover:text-purple-600 transition-colors duration-500
      {% if page.url === link %}
        font-semibold
      {% endif %}
      {{ class }}
    "
  >
    {{ title }}
  </a>
{% endmacro %}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title or metadata.title or "Down the rabbithole – a frontend blog" }}</title>
    <meta name="description" content="{{ description or metadata.description }}">
    <link rel="alternate" href="{{ metadata.feed.path | url }}" type="application/atom+xml" title="{{ metadata.title }}">
    <link rel="alternate" href="{{ metadata.jsonfeed.path | url }}" type="application/json" title="{{ metadata.title }}">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=PT+Serif&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="max-w-3xl mx-auto pt-6 px-6 lg:pt-12 lg:px-12">
      <header>
        <p class="
          uppercase font-semibold text-base tracking-wider
          hover:text-black mb-3 transition-colors duration-500
        ">
          <a href="{{ '/' | url }}">Down the rabbithole</a>
        </p>
        <nav class="flex mb-6 pb-2 border-b">
          {{ navlink('/', 'Hi 👋', 'mr-4') }}
          {{ navlink('/articles/', 'Articles', 'mr-4') }}
          {{ navlink('/cheatsheets/', 'Cheatsheets', 'mr-4') }}
          {{ navlink('/feed.xml', 'RSS', 'ml-auto' ) }}
        </nav>
      </header>

      <main>
        {{ content | safe }}
      </main>

      <footer class="py-6 border-gray-300 text-gray-500 text-center">
        <a href="https://buymeacoffee.com/eszter" class="hover:text-purple-500">Buy me a pizza 🍕</a>
      </footer>

      <!-- Current page: {{ page.url | url }} -->
    </div>
    <script
      src="https://unpkg.com/littlefoot/dist/littlefoot.js"
      type="application/javascript"
    ></script>
    <script type="application/javascript">
      littlefoot.littlefoot({
        buttonTemplate: `
          <button
            aria-expanded="false"
            aria-label="Footnote <% number %>"
            class="littlefoot-footnote__button"
            id="<% reference %>"
            title="See Footnote <% number %>"
          />
            <% number %>
          </button>
        `
      })
    </script>
  </body>
</html>
